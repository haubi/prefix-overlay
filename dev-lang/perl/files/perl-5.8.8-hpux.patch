--- hints/hpux.sh.orig	2007-11-23 10:07:52 +0100
+++ hints/hpux.sh	2007-11-23 12:03:11 +0100
@@ -190,7 +190,7 @@
     $define|true|[Yy])
 	echo 'int main(){long l;printf("%d\\n",sizeof(l));}'>try.c
 	$cc -o try $ccflags $ldflags try.c
-	if [ "`try`" = "8" ]; then
+	if [ "`./try`" = "8" ]; then
 	    cat <<EOM >&4
 
 *** This version of gcc uses 64 bit longs. -Duse64bitall is
@@ -346,7 +346,7 @@
     } /* main */
 EOF
 $cc -o try $ccflags $ldflags try.c
-	maxdsiz=`try`
+	maxdsiz=`./try`
 rm -f try try.c core
 if [ $maxdsiz -le 64 ]; then
     # 64 Mb is probably not enough to optimize toke.c
@@ -370,11 +370,12 @@
 	    "")           optimize="-g -O" ;;
 	    *O[3456789]*) optimize=`echo "$optimize" | sed -e 's/O[3-9]/O2/'` ;;
 	    esac
-	#ld="$cc"
-	ld=/usr/bin/ld
+	ld="$cc"
+	#ld=/usr/bin/ld
 	cccdlflags='-fPIC'
-	#lddlflags='-shared'
-	lddlflags='-b'
+	lddlflags='-shared'
+	#lddlflags='-b'
+	libs='-lm'
 	case "$optimize" in
 	    *-g*-O*|*-O*-g*)
 		# gcc without gas will not accept -g
