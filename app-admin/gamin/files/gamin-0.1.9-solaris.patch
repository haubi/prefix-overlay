--- configure.in
+++ configure.in
@@ -418,6 +418,10 @@
    AC_DEFINE_UNQUOTED(HAVE_ABSTRACT_SOCKETS, $abstract_sockets, [Have abstract socket namespace])
 fi
 
+# for Solaris in particular
+AC_CHECK_FUNC(gethostent, , AC_CHECK_LIB(nsl, gethostent))
+AC_CHECK_FUNC(setsockopt, , AC_CHECK_LIB(socket, setsockopt))
+
 dnl
 dnl check for python
 dnl
