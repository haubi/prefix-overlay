--- configure.orig	2007-09-01 20:01:18 +0200
+++ configure	2007-09-01 20:08:04 +0200
@@ -1272,16 +1272,6 @@
   _ldconfig="ldconfig -R"
 fi
 
-if freebsd ; then
-  _ld_extra="$_ld_extra -L/usr/local/lib"
-  _inc_extra="$_inc_extra -I/usr/local/include"
-fi
-
-if darwin; then
-  _ld_extra="$_ld_extra -L/usr/local/lib"
-  _inc_extra="$_inc_extra -I/usr/local/include"
-fi
-
 if aix ; then
   _ld_extra="$_ld_extra -lC"
 fi
@@ -3850,7 +3840,7 @@
 
 
 echocheck "X11 headers presence"
-  for I in `echo $_inc_extra | sed s/-I//g` /usr/X11/include /usr/X11R6/include /usr/include/X11R6 /usr/include /usr/openwin/include ; do
+  for I in `echo $_inc_extra | sed s/-I//g` ; do
     if test -f "$I/X11/Xlib.h" ; then
       _inc_x11="-I$I"
       _x11_headers="yes"
@@ -3873,8 +3863,7 @@
 #include <X11/Xutil.h>
 int main(void) { (void) XCreateWindow(0,0,0,0,0,0,0,0,0,0,0,0); return 0; }
 EOF
-  for I in "" -L/usr/X11R6/lib -L/usr/lib/X11R6 -L/usr/X11/lib \
-           -L/usr/lib32 -L/usr/openwin/lib -L/usr/X11R6/lib64 -L/usr/lib ; do
+  for I in "" ; do
     if netbsd; then
       _ld_tmp="$I -lXext -lX11 $_ld_pthread -Wl,-R`echo $I | sed s/^-L//`"
     else
--- DOCS/xml/configure~	2007-09-13 14:17:22 +0200
+++ DOCS/xml/configure	2007-09-13 14:32:30 +0200
@@ -8,17 +8,7 @@
 
 echo "Searching for XML catalogs..."
 for _try_catalog in \
-  /etc/sgml/catalog \
-  /usr/share/xml/docbook/*/catalog.xml \
-  /opt/local/share/xml/docbook-xml/*/catalog.xml \
-  /usr/share/sgml/docbook/xml-dtd-4.1.2/xmlcatalog \
-  /usr/share/apps/ksgmltools2/customization/en/catalog \
-  /usr/share/sgml/catalog \
-  /usr/local/share/sgml/catalog \
-  /usr/lib/sgml/catalog \
-  /usr/local/lib/sgml/catalog \
-  /usr/share/docbook-xml42/catalog.xml \
-  /usr/share/sgml/docbook/xmlcatalog
+  "@GENTOO_PORTAGE_EPREFIX@"/etc/sgml/catalog
 do
   if test -f "$_try_catalog"
   then
@@ -40,15 +30,7 @@
 echo "Searching for stylesheets..."
 echo "Searching for html/chunk.xsl..."
 for _try_chunk_xsl in \
-  /usr/share/sgml/docbook/stylesheet/xsl/nwalsh/html/chunk.xsl \
-  /usr/share/sgml/docbook/yelp/docbook/html/chunk.xsl \
-  /usr/local/share/sgml/docbook/stylesheet/xsl/nwalsh/html/chunk.xsl \
-  /usr/local/share/sgml/docbook/yelp/docbook/html/chunk.xsl \
-  /usr/share/docbook-xsl/html/chunk.xsl \
-  /usr/share/sgml/docbook/xsl-stylesheets*/html/chunk.xsl \
-  /usr/share/xml/docbook/stylesheet/nwalsh/current/html/chunk.xsl \
-  /opt/local/share/xsl/docbook-xsl/html/chunk.xsl \
-
+  "@GENTOO_PORTAGE_EPREFIX@"/usr/share/sgml/docbook/xsl-stylesheets*/html/chunk.xsl
 do
   if test -f "$_try_chunk_xsl"
   then
@@ -68,14 +50,7 @@
 
 echo "Searching for html/docbook.xsl..."
 for _try_docbook_xsl in \
-  /usr/share/sgml/docbook/stylesheet/xsl/nwalsh/html/docbook.xsl \
-  /usr/share/sgml/docbook/yelp/docbook/html/docbook.xsl \
-  /usr/local/share/sgml/docbook/stylesheet/xsl/nwalsh/html/docbook.xsl \
-  /usr/local/share/sgml/docbook/yelp/docbook/html/docbook.xsl \
-  /usr/share/docbook-xsl/html/docbook.xsl \
-  /usr/share/sgml/docbook/xsl-stylesheets*/html/docbook.xsl \
-  /usr/share/xml/docbook/stylesheet/nwalsh/current/html/docbook.xsl \
-  /opt/local/share/xsl/docbook-xsl/html/docbook.xsl \
+  "@GENTOO_PORTAGE_EPREFIX@"/usr/share/sgml/docbook/xsl-stylesheets*/html/docbook.xsl
 
 do
   if test -f "$_try_docbook_xsl"
@@ -126,14 +101,7 @@
 echo "Searching for DTD..."
 #FIXME: This should prefer higher version numbers, not the other way around ..
 for _try_dtd in \
-  /usr/share/xml/docbook/*/dtd/4*/docbookx.dtd \
-  /usr/share/xml/docbook/*/docbookx.dtd \
-  /usr/share/sgml/docbook/*/docbookx.dtd \
-  /usr/share/sgml/docbook/dtd/*/docbookx.dtd \
-  /usr/share/sgml/docbook/dtd/xml/*/docbookx.dtd \
-  /usr/share/docbook-xml*/docbookx.dtd \
-  /opt/local/share/xml/docbook-xml/*/docbookx.dtd \
-  /usr/share/apps/ksgmltools2/docbook/*/docbookx.dtd
+  "@GENTOO_PORTAGE_EPREFIX@"/usr/share/sgml/docbook/*/docbookx.dtd
 do
   if test -f "$_try_dtd"
   then
