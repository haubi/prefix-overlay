http://bugzilla.gnome.org/attachment.cgi?id=121671&action=view
http://bugzilla.gnome.org/show_bug.cgi?id=558253

Index: NEWS
===================================================================
--- NEWS	(revision 1020)
+++ NEWS	(working copy)
@@ -1,3 +1,9 @@
+libgsf 1.14.11
+
+Morten:
+	* Solaris compilation issue.  [#558253]
+
+--------------------------------------------------------------------------
 libgsf 1.14.10
 
 Jody:
Index: gsf/gsf-output-stdio.c
===================================================================
--- gsf/gsf-output-stdio.c	(revision 1020)
+++ gsf/gsf-output-stdio.c	(working copy)
@@ -74,6 +74,7 @@
 		goto done;
 
 #ifdef HAVE_SYS_STATFS_H
+#ifdef HAVE_2ARG_STATFS
 	/* The FUSE file system does not unlink the target.  */
 	if (errno == EPERM) {
 		int save_errno = errno;
@@ -84,6 +85,7 @@
 		errno = save_errno;
 	}
 #endif
+#endif
 
 #ifdef G_OS_WIN32
 	/* Win32's rename does not unlink the target.  */
Index: configure.in
===================================================================
--- configure.in	(revision 1020)
+++ configure.in	(working copy)
@@ -162,6 +162,16 @@
 AC_CHECK_HEADERS(fcntl.h malloc.h unistd.h io.h sys/statfs.h)
 AC_FUNC_MMAP
 
+AC_MSG_CHECKING([form of statfs])
+AC_COMPILE_IFELSE([AC_LANG_PROGRAM(
+[[#ifdef HAVE_SYS_STATFS_H
+#include <sys/statfs.h>
+#endif]],
+[[struct statfs buf; (void)(2*statfs("xyz",&buf));]])],
+	[AC_MSG_RESULT([2-arg, linux-style])
+AC_DEFINE(HAVE_2ARG_STATFS, 1, [Define is you have two-argument statfs like linux])],
+	[AC_MSG_RESULT([none, or unknown])])
+
 AC_CHECK_FUNCS(chown setrlimit)
 
 AC_CHECK_FUNCS(gmtime_r, [],
