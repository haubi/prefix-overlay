--- src/portable.cpp.orig	2008-08-17 13:56:40.982165093 +0200
+++ src/portable.cpp	2008-08-17 13:56:55.407543043 +0200
@@ -377,16 +377,7 @@
 size_t portable_iconv (void *cd, const char** inbuf,  size_t *inbytesleft, 
                                        char** outbuf, size_t *outbytesleft)
 {
-// libiconv is a mess. For some platforms/version the prototype of inbuf is
-// "const char **", for others it is "char **". C++ requires the proper cast to
-// avoid a compile error, that is were the CASTNEEDED is for.
-#if ((defined(_LIBICONV_VERSION) && (_LIBICONV_VERSION>=0x0109) && \
-      !((defined(_OS_MAC_) || defined(Q_OS_MACX) )&& (_LIBICONV_VERSION==0x010B))) \
-    || defined(_OS_SOLARIS_))
-#define CASTNEEDED(x) (x)
-#else
 #define CASTNEEDED(x) (char **)(x)
-#endif
   return iconv((iconv_t)cd,CASTNEEDED(inbuf),inbytesleft,outbuf,outbytesleft);
 }
 
