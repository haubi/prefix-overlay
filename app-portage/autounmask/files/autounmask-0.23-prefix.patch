--- autounmask
+++ autounmask
@@ -1,4 +1,4 @@
-#!/usr/bin/perl
+#!@GENTOO_PORTAGE_EPREFIX@/usr/bin/perl
 
 # -----------------------------------------------------------------------------
 #
@@ -32,10 +32,11 @@
 $|=1;
 
 # - init vars & constants >
+my $EPREFIX     = '@GENTOO_PORTAGE_EPREFIX@';
 my $VERSION		= '0.23';
 my $pxs			= PortageXS->new();
-my $keywordsFile	= '/etc/portage/package.keywords';
-my $unmaskFile		= '/etc/portage/package.unmask';
+my $keywordsFile	= $EPREFIX.'/etc/portage/package.keywords';
+my $unmaskFile		= $EPREFIX.'/etc/portage/package.unmask';
 my ($p,$x,$r);
 my @l			= ();
 my $packageToUnmask	= '';
@@ -78,10 +79,10 @@
 }
 
 # - Check if user is root >
-if ($< > 0) {
-	print $red.' * '.$reset."To use autounmask you must have root access. Aborting.\n\n";
-	exit(0);
-}
+#if ($< > 0) {
+#	print $red.' * '.$reset."To use autounmask you must have root access. Aborting.\n\n";
+#	exit(0);
+#}
 
 # - get available repos >
 @repos=();
@@ -127,13 +128,13 @@
 
 # - Figure out if $keywordsFile is a directory >
 if (-d $keywordsFile) {
-	$keywordsFile='/etc/portage/package.keywords/autounmask-'.$pn;
+	$keywordsFile=$EPREFIX.'/etc/portage/package.keywords/autounmask-'.$pn;
 }
 $pxs->print_ok('Using package.keywords file: '.$keywordsFile."\n");
 
 # - Figure out if $unmaskFile is a directory >
 if (-d $unmaskFile) {
-	$unmaskFile='/etc/portage/package.unmask/autounmask-'.$pn;
+	$unmaskFile=$EPREFIX.'/etc/portage/package.unmask/autounmask-'.$pn;
 }
 $pxs->print_ok('Using package.unmask file: '.$unmaskFile."\n");
 print "\n";
Only in autounmask-0.23: prefix.patch
