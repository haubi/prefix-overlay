--- texk/kpathsea/progname.c
+++ texk/kpathsea/progname.c
@@ -408,7 +408,11 @@
   if (!self)
     self = concat3 (".", DIR_SEP_STRING, argv0);
     
-  ret = xdirname (remove_dots (expand_symlinks (self)));
+  if (kpse_absolute_p (self, true)) {
+	  ret = xdirname (remove_dots (self));
+  } else {
+	  ret = xdirname (remove_dots (expand_symlinks (self)));
+  }
 
   free (self);
   
