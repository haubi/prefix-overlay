http://cvs.pld-linux.org/cgi-bin/cvsweb.cgi/SOURCES/Attic/mysql-min_max.patch?rev=1.6;content-type=text%2Fplain
http://bugs.mysql.com/bug.php?id=28184

diff -ur -x '*.Po' -x '*.log' -x '*.t' -x '*.Plo' mysql-5.1.22-rc.orig/include/my_global.h mysql-5.1.22-rc.mod/include/my_global.h
--- mysql-5.1.22-rc.orig/include/my_global.h	2007-09-24 12:30:24.000000000 +0200
+++ mysql-5.1.22-rc.mod/include/my_global.h	2007-11-08 14:42:06.000000000 +0100
@@ -563,10 +563,6 @@
 #endif
 
 /* Define some useful general macros */
-#if !defined(max)
-#define max(a, b)	((a) > (b) ? (a) : (b))
-#define min(a, b)	((a) < (b) ? (a) : (b))
-#endif
 
 #if !defined(HAVE_UINT)
 #undef HAVE_UINT
@@ -1502,6 +1498,11 @@
 #endif
 #endif
 
+#if !defined(max)
+#define max(a, b)	((a) > (b) ? (a) : (b))
+#define min(a, b)	((a) < (b) ? (a) : (b))
+#endif
+
 /* Length of decimal number represented by INT32. */
 #define MY_INT32_NUM_DECIMAL_DIGITS 11
 
