http://lists.gnu.org/archive/html/bug-libtool/2008-03/msg00124.html

--- ltmain.in.orig	2008-02-27 16:32:24.974524000 +0100
+++ ltmain.in	2008-02-27 16:32:58.793513000 +0100
@@ -2815,7 +2815,10 @@
 	    add_dir=
 	    add=
 	    # Finalize command for both is simple: just hardcode it.
-	    if test "$hardcode_direct" = yes; then
+	    if test "$hardcode_direct" = yes &&
+	       { test -z "$inst_prefix_dir" ||
+		 test ! -f "$inst_prefix_dir$libdir/$linklib" 
+	       }; then
 	      add="$libdir/$linklib"
 	    elif test "$hardcode_minus_L" = yes; then
 	      add_dir="-L$libdir"
