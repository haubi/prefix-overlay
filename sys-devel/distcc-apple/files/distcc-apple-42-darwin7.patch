--- src/indirect_server.c
+++ src/indirect_server.c
@@ -224,6 +224,10 @@
     return removed_size;
 }
 
+#ifndef _POSIX_HOST_NAME_MAX
+# define _POSIX_HOST_NAME_MAX 255
+#endif
+
 static void dcc_emit_cache_warning(char *fmt)
 {
     char hostbuf[_POSIX_HOST_NAME_MAX+1], *host;
