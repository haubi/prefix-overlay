http://lists.gnu.org/archive/html/bug-cpio/2010-03/msg00005.html

This should do it for BSD and Darwin

diff --git a/src/filetypes.h b/src/filetypes.h
index f80faab..63e7881 100644
--- a/src/filetypes.h
+++ b/src/filetypes.h
@@ -82,4 +82,6 @@
 #define lstat stat
 #endif
 int lstat ();
+#ifndef stat
 int stat ();
+#endif

