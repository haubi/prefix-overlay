* this patch must be applied on top of the soname patch

--- configure.in
+++ configure.in
@@ -36,12 +36,22 @@
 	          GEOTIFF_DLL=cyggeotiff-1.dll
 	          GEOTIFF_IMP=libgeotiff.dll.a
                   LD_SHARED="gcc -shared -Wl,--export-all -Wl,--out-implib=\$(GEOTIFF_IMP)" ;;
+	*-darwin*)
+		SO_EXT=dylib
+		GEOTIFF_SO=libgeotiff.$VERSION_MAJOR.$VERSION_MINOR.$VERSION_POINT.${SO_EXT}
+		GEOTIFF_SO_MAJ_MIN=libgeotiff.$VERSION_MAJOR.$VERSION_MINOR.${SO_EXT}
+		GEOTIFF_SO_MAJ=libgeotiff.$VERSION_MAJOR.${SO_EXT}
+		LD_SHARED="gcc -dynamiclib -install_name $libdir/$GEOTIFF_SO_MAJ_MIN"
+	;;
     *) GEOTIFF_SO=libgeotiff.${SO_EXT}.$VERSION_MAJOR.$VERSION_MINOR.$VERSION_POINT
-       GEOTIFF_SONAME=libgeotiff.${SO_EXT}.$VERSION_MAJOR.$VERSION_MINOR
-       LD_SHARED="gcc -shared -Wl,-soname -Wl,$GEOTIFF_SONAME" ;;
+       GEOTIFF_SO_MAJ_MIN=libgeotiff.${SO_EXT}.$VERSION_MAJOR.$VERSION_MINOR
+	   GEOTIFF_SO_MAJ=libgeotiff.${SO_EXT}.$VERSION_MAJOR
+       LD_SHARED="gcc -shared -Wl,-soname -Wl,$GEOTIFF_SO_MAJ_MIN" ;;
   esac
 fi
 AC_SUBST(GEOTIFF_SO,$GEOTIFF_SO)
+AC_SUBST(GEOTIFF_SO_MAJ,$GEOTIFF_SO_MAJ)
+AC_SUBST(GEOTIFF_SO_MAJ_MIN,$GEOTIFF_SO_MAJ_MIN)
 AC_SUBST(GEOTIFF_IMP,$GEOTIFF_IMP)
 AC_SUBST(GEOTIFF_DLL,$GEOTIFF_DLL)
 AC_SUBST(EXEEXT,$EXEEXT)
--- Makefile.in
+++ Makefile.in
@@ -36,6 +36,8 @@
 
 LIBS=   @LIBS@
 GEOTIFF_SO=@GEOTIFF_SO@
+GEOTIFF_SO_MAJ=@GEOTIFF_SO_MAJ@
+GEOTIFF_SO_MAJ_MIN=@GEOTIFF_SO_MAJ_MIN@
 GEOTIFF_DLL=@GEOTIFF_DLL@
 GEOTIFF_IMP=@GEOTIFF_IMP@
 LD_SHARED=@LD_SHARED@
@@ -201,13 +203,13 @@
 		else \
 			$(INSTALL) $(GEOTIFF_SO) $(DESTDIR)${libdir}; \
 			(cd $(DESTDIR)${libdir} ; \
-			rm -f libgeotiff.$(SO_EXT).$(VERSION_MAJOR).$(VERSION_MINOR); \
-			${LN} $(GEOTIFF_SO) libgeotiff.$(SO_EXT).$(VERSION_MAJOR).$(VERSION_MINOR); \
-			rm -f libgeotiff.$(SO_EXT).$(VERSION_MAJOR); \
-			${LN} libgeotiff.$(SO_EXT).$(VERSION_MAJOR).$(VERSION_MINOR) \
-			libgeotiff.$(SO_EXT).$(VERSION_MAJOR); \
+			rm -f $(GEOTIFF_SO_MAJ_MIN); \
+			${LN} $(GEOTIFF_SO) $(GEOTIFF_SO_MAJ_MIN); \
+			rm -f $(GEOTIFF_SO_MAJ); \
+			${LN} $(GEOTIFF_SO_MAJ_MIN) \
+			$(GEOTIFF_SO_MAJ); \
 			rm -f libgeotiff.$(SO_EXT); \
-			${LN} libgeotiff.$(SO_EXT).$(VERSION_MAJOR) libgeotiff.$(SO_EXT); );\
+			${LN} $(GEOTIFF_SO_MAJ) libgeotiff.$(SO_EXT); );\
 		fi;\
 	fi
 
