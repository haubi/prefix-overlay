diff -ru -x '*.Po' -x '*.Plo' libXpm-3.5.7.orig/src/XpmI.h libXpm-3.5.7/src/XpmI.h
--- libXpm-3.5.7.orig/src/XpmI.h	2008-09-26 10:56:42 +0200
+++ libXpm-3.5.7/src/XpmI.h	2008-09-26 11:07:22 +0200
@@ -64,6 +64,9 @@
 #include <X11/Xos.h>
 #include <X11/Xfuncs.h>
 #include <X11/Xmd.h>
+#ifdef WIN32
+# define NO_ZPIPE
+#endif
 #endif
 
 #ifdef VMS
diff -ru -x '*.Po' -x '*.Plo' libXpm-3.5.7.orig/src/misc.c libXpm-3.5.7/src/misc.c
--- libXpm-3.5.7.orig/src/misc.c	2008-09-26 10:56:41 +0200
+++ libXpm-3.5.7/src/misc.c	2008-09-26 11:02:39 +0200
@@ -81,6 +81,10 @@
 /*
  * Function returning a character string related to an error code.
  */
+#ifdef WIN32
+#define errcode _x_errcode
+#endif
+
 char *
 XpmGetErrorString(errcode)
     int errcode;
